(window.webpackJsonp=window.webpackJsonp||[]).push([[529],{883:function(n,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("ol",[s("li",[s("p",[n._v("jenkins 系统管理-> 添加ssh server信息")])]),n._v(" "),s("li",[s("p",[n._v("添加jenkins 凭证管理")])]),n._v(" "),s("li",[s("p",[n._v("源码管理 配置Git账号")])]),n._v(" "),s("li",[s("p",[n._v("构建执行shell脚步")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#进入代码目录\ncd /home/gitsource/education-cultivate/qinchuan/06-Release/0601-Environment\n#更新代码\ngit pull\n#授权目录\nchmod -R 777 jg.sh\n#执行shell脚本\n./jg.sh bf\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])])]),n._v(" "),s("li",[s("p",[n._v("jg.sh脚本参考")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('#!/bin/bash\n#pull代码\n##############\nCOMNAME=$1\nJENKINSROOT="/root/.jenkins/workspace/jg_$COMNAME"\nSOURCEROOT="/home/gitsource"\n##############\nif [ ! -n "$COMNAME" ];then\n    echo "Parm comname Doesn\'t exist,don\'t run this shell"\n    exit 1\nfi\n##############\ncd  $SOURCEROOT/education-cultivate/qinchuan/04-Development/0402-Source/trunk\n#拉取代码\ngit pull\n#构建后台前端页面\ncd ./vue/vue-element-admin-master/\ncnpm install\n\\cp -rf ./files/scheduler.min.css ./node_modules/_fullcalendar@3.10.1@fullcalendar/dist/\n\\cp -rf ./files/scheduler.min.js ./node_modules/_fullcalendar@3.10.1@fullcalendar/dist/\nrm -rf ./dist\n#复制配置文件\n\\cp -rf $SOURCEROOT/education-cultivate/qinchuan/06-Release/0601-Environment/config/$COMNAME/env.production.admin ./.env.production\ncnpm run build:prod\ntar -czvf dist.tar dist/\n\\cp -rf dist.tar $JENKINSROOT/jg.tar\n#构建移动端前端\ncd ../schome-link/\ncnpm install -i\nrm -rf ./dist\n#复制配置文件\n\\cp -rf $SOURCEROOT/education-cultivate/qinchuan/06-Release/0601-Environment/config/$COMNAME/env.production.mobile ./.env.production\ncnpm run build\ntar -czvf dist.tar dist/\n\\cp -rf dist.tar $JENKINSROOT/jgm.tar\n#构建后台接口\ncd  ../../micolor\n\\cp -rf $SOURCEROOT/education-cultivate/qinchuan/06-Release/0601-Environment/config/$COMNAME/application-config.yml ./micolor-config/src/main/resources/application-prd.yml\n\\cp -rf $SOURCEROOT/education-cultivate/qinchuan/06-Release/0601-Environment/config/$COMNAME/application-extra.yml ./micolor-extra/src/main/resources/application-prd.yml\nmvn  -U -e clean package -Dmaven.test.skip=true install -P prd\n\\cp ./micolor-admin/target/micolor-admin.war $JENKINSROOT/micolor.war\n\\cp ./micolor-interfaces/target/micolor-interfaces.war $JENKINSROOT/interfaces.war\n\\cp ./micolor-extra/target/extra.war $JENKINSROOT/extra.war\n#复制配置文件\n\\cp -rf $SOURCEROOT/education-cultivate/qinchuan/06-Release/0601-Environment/config/$COMNAME/docker-compose.yml $JENKINSROOT/\n\\cp -rf $SOURCEROOT/education-cultivate/qinchuan/06-Release/0601-Environment/config/$COMNAME/www.conf $JENKINSROOT/\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br")])]),s("p",[n._v("6.选择对应的ssh server")]),n._v(" "),s("p",[n._v("Exec command执行上传后的执行操作")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('cd /home/ubuntu/jg/bf/\nchmod -R 777 /home/ubuntu/jg/bf/\ndocker-compose up -d\n#后台接口\nsudo \\mv -f ./micolor.war ./micolor/\n#移动端接口\nsudo \\mv -f ./interfaces.war ./interfaces/\n#扩展包\nsudo \\mv -f ./extra.war ./extra/\n#后台前端\nsudo tar -zxvf jg.tar\nsudo rm -rf ./www/jg\nsudo \\mv -f  dist ./www/jg\n#移动端前端\nsudo tar -zxvf jgm.tar\nsudo rm -rf ./www/jgm\nsudo \\mv -f  dist ./www/jgm\nchmod -R  777 ./\necho "OK"\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br")])])])]),n._v(" "),s("h2",{attrs:{id:"sonar-扫描java工程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sonar-扫描java工程"}},[n._v("#")]),n._v(" sonar 扫描java工程")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#进入扫描项目工程目录\ncd /home/gitsource/education-cultivate/qinchuan/04-Development/0402-Source/trunk/micolor\n#执行maven扫描\nmvn clean install sonar:sonar\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("h2",{attrs:{id:"sonar-扫描js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sonar-扫描js"}},[n._v("#")]),n._v(" sonar 扫描js")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#key和name保持一致且在sonar下唯一\nsonar.projectKey=micolor-vue-mobile\nsonar.projectName=micolor-vue-mobile\n#工程版本\nsonar.version=1.0\nsonar.language=js\nsonar.sourceEncoding=UTF-8\nsonar.projectBaseDir=/home/gitsource/education-cultivate/qinchuan/04-Development/0402-Source/trunk/vue/schome-link/\nsonar.sources=src\nsonar.binaries=src\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[530],{883:function(e,t,r){"use strict";r.r(t);var a=r(0),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"目前用的常用测试工具对比"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目前用的常用测试工具对比"}},[e._v("#")]),e._v(" 目前用的常用测试工具对比")]),e._v(" "),t("p",[e._v("1、loadrunner")]),e._v(" "),t("p",[e._v("性能稳定，压测结果及细粒度大，可以自定义脚本进行压测，但是太过于重大，功能比较繁多")]),e._v(" "),t("p",[e._v("2、apache ab(单接口压测最方便)")]),e._v(" "),t("p",[e._v("模拟多线程并发请求,ab命令对发出负载的计算机要求很低，既不会占用很多CPU，也不会占用太多的内存，但却会给目标服务器造成巨大的负载, 简单DDOS攻击等")]),e._v(" "),t("p",[e._v("3、webbench")]),e._v(" "),t("p",[e._v("webbench首先fork出多个子进程，每个子进程都循环做web访问测试。子进程把访问的结果通过pipe告诉父进程，父进程做最终的统计结果。")]),e._v(" "),t("h2",{attrs:{id:"jmeter4-x基础知识讲解和压测实操"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter4-x基础知识讲解和压测实操"}},[e._v("#")]),e._v(" JMeter4.x基础知识讲解和压测实操")]),e._v(" "),t("h3",{attrs:{id:"压测不同的协议和应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压测不同的协议和应用"}},[e._v("#")]),e._v(" 压测不同的协议和应用")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Web - HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET, …)")])]),e._v(" "),t("li",[t("p",[e._v("SOAP / REST Webservices")])]),e._v(" "),t("li",[t("p",[e._v("FTP")])]),e._v(" "),t("li",[t("p",[e._v("Database via JDBC")])]),e._v(" "),t("li",[t("p",[e._v("LDAP  轻量目录访问协议")])]),e._v(" "),t("li",[t("p",[e._v("Message-oriented middleware (MOM) via JMS")])]),e._v(" "),t("li",[t("p",[e._v("Mail - SMTP(S), POP3(S) and IMAP(S)")])]),e._v(" "),t("li",[t("p",[e._v("TCP等等")])])]),e._v(" "),t("h3",{attrs:{id:"使用场景及优点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用场景及优点"}},[e._v("#")]),e._v(" 使用场景及优点")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("1）功能测试")])]),e._v(" "),t("li",[t("p",[e._v("2）压力测试")])]),e._v(" "),t("li",[t("p",[e._v("3）分布式压力测试")])]),e._v(" "),t("li",[t("p",[e._v("4）纯java开发")])]),e._v(" "),t("li",[t("p",[e._v("5）上手容易，高性能")])]),e._v(" "),t("li",[t("p",[e._v("6）提供测试数据分析")])]),e._v(" "),t("li",[t("p",[e._v("7）各种报表数据图形展示")])])]),e._v(" "),t("h3",{attrs:{id:"本地快速安装jmeter4-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地快速安装jmeter4-x"}},[e._v("#")]),e._v(" 本地快速安装Jmeter4.x")]),e._v(" "),t("p",[e._v("简介：GUI图形界面的安装")]),e._v(" "),t("p",[e._v("1、需要安装JDK8,或者JDK9,JDK10")]),e._v(" "),t("p",[e._v("2、快速下载")]),e._v(" "),t("p",[e._v("windows： http://mirrors.tuna.tsinghua.edu.cn/apache//jmeter/binaries/apache-jmeter-4.0.zip")]),e._v(" "),t("p",[e._v("mac或者linux：http://mirrors.tuna.tsinghua.edu.cn/apache//jmeter/binaries/apache-jmeter-4.0.tgz")]),e._v(" "),t("p",[e._v("3、文档地址：http://jmeter.apache.org/usermanual/get-started.html")]),e._v(" "),t("p",[e._v("4、建议安装JDK环境，虽然JRE也可以，但是压测https需要JDK里面的 keytool工具")]),e._v(" "),t("h3",{attrs:{id:"jmeter目录文件讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter目录文件讲解"}},[e._v("#")]),e._v(" Jmeter目录文件讲解")]),e._v(" "),t("p",[e._v("简介:讲解jmeter解压文件里面的各个目录，文件等")]),e._v(" "),t("p",[e._v("目录\nbin:核心可执行文件，包含配置")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("jmeter.bat: windows启动文件")])]),e._v(" "),t("li",[t("p",[e._v("jmeter: mac或者linux启动文件")])]),e._v(" "),t("li",[t("p",[e._v("jmeter-server：mac或者Liunx分布式压测使用的启动文件")])]),e._v(" "),t("li",[t("p",[e._v("jmeter-server.bat：mac或者Liunx分布式压测使用的启动文件")])]),e._v(" "),t("li",[t("p",[e._v("jmeter.properties: 核心配置文件")])]),e._v(" "),t("li",[t("p",[e._v("extras：插件拓展的包")])]),e._v(" "),t("li",[t("p",[e._v("lib:核心的依赖包")])]),e._v(" "),t("li",[t("p",[e._v("ext:核心包")])]),e._v(" "),t("li",[t("p",[e._v("junit:单元测试包")])])]),e._v(" "),t("h3",{attrs:{id:"jmeter语言版本中英文切换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter语言版本中英文切换"}},[e._v("#")]),e._v(" Jmeter语言版本中英文切换")]),e._v(" "),t("p",[e._v("简介：\n讲解怎么改变jmeter的GUI界面语言版本")]),e._v(" "),t("p",[e._v("1、控制台修改")]),e._v(" "),t("p",[e._v("menu -> options -> choose language")]),e._v(" "),t("p",[e._v("2、配置文件修改")]),e._v(" "),t("p",[e._v("bin目录 -> jmeter.properties")]),e._v(" "),t("p",[e._v("默认 #language=en")]),e._v(" "),t("p",[e._v("改为 language=zh_CN")]),e._v(" "),t("h3",{attrs:{id:"使用springboot-2-0快速编写api测试接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用springboot-2-0快速编写api测试接口"}},[e._v("#")]),e._v(" 使用SpringBoot 2.0快速编写API测试接口")]),e._v(" "),t("p",[e._v("简介：使用java的框架springBoot快速编写几个API接口测试")]),e._v(" "),t("p",[e._v("https://spring.io/guides/gs/spring-boot/")]),e._v(" "),t("p",[e._v("接口列表")]),e._v(" "),t("p",[e._v("1、模拟GET请求，用户列表接口")]),e._v(" "),t("p",[e._v("2、模拟POST请求，用户登录接口")]),e._v(" "),t("p",[e._v("​\thttp://localhost:8080/users")]),e._v(" "),t("h2",{attrs:{id:"jmeter核心组件讲解和实操"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter核心组件讲解和实操"}},[e._v("#")]),e._v(" Jmeter核心组件讲解和实操")]),e._v(" "),t("h3",{attrs:{id:"jmeter基础功能组件介绍线程组和sampler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter基础功能组件介绍线程组和sampler"}},[e._v("#")]),e._v(" Jmeter基础功能组件介绍线程组和Sampler")]),e._v(" "),t("p",[e._v("简介：讲解Jmeter里面GUI菜单栏主要组件")]),e._v(" "),t("p",[e._v("1、添加->threads->线程组（控制总体并发）")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("线程数：虚拟用户数。一个虚拟用户占用一个进程或线程")])]),e._v(" "),t("li",[t("p",[e._v("准备时长（Ramp-Up Period(in seconds)）：全部线程启动的时长，比如100个线程，20秒，则表示20秒内100个线程都要启动完成，每秒启动5个线程")])]),e._v(" "),t("li",[t("p",[e._v("循环次数：每个线程发送的次数，假如值为5，100个线程，则会发送500次请求，可以勾选永远循环")])])]),e._v(" "),t("p",[e._v("2、线程组->添加-> Sampler(采样器) -> Http （一个线程组下面可以增加几个Sampler）")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("名称：采样器名称")])]),e._v(" "),t("li",[t("p",[e._v("注释：对这个采样器的描述")])]),e._v(" "),t("li",[t("p",[e._v("web服务器：默认协议是http\n默认端口是80")])]),e._v(" "),t("li",[t("p",[e._v("服务器名称或IP ：请求的目标服务器名称或IP地址")])]),e._v(" "),t("li",[t("p",[e._v("路径：服务器URL")])]),e._v(" "),t("li",[t("p",[e._v("Use multipart/from-data for HTTP POST ：当发送POST请求时，使用Use multipart/from-data方法发送，默认不选中。")])])]),e._v(" "),t("p",[e._v("3、查看测试结果")]),e._v(" "),t("p",[e._v("线程组->添加->监听器->察看结果树")]),e._v(" "),t("h3",{attrs:{id:"jmeter的断言基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter的断言基本使用"}},[e._v("#")]),e._v(" Jmeter的断言基本使用")]),e._v(" "),t("p",[e._v("简介：介绍什么是断言及基本使用")]),e._v(" "),t("p",[e._v("1、增加断言: 线程组 -> 添加 -> 断言 -> 响应断言")]),e._v(" "),t("p",[e._v("apply to(应用范围):\nMain sample only: 仅当前父取样器 进行断言，一般一个请求，如果发一个请求会触发多个，则就有sub sample（比较少用）\n要测试的响应字段：")]),e._v(" "),t("ul",[t("li",[e._v("响应文本：即响应的数据，比如json等文本")]),e._v(" "),t("li",[e._v("响应代码：http的响应状态码，比如200，302，404这些")]),e._v(" "),t("li",[e._v("响应信息：http响应代码对应的响应信息，例如：OK, Found\nResponse Header:")]),e._v(" "),t("li",[e._v("响应头\n模式匹配规则：\n包括：包含在里面就成功")]),e._v(" "),t("li",[e._v("匹配：响应内容完全匹配，不区分大小写\nequals：完全匹配，区分大小写")])]),e._v(" "),t("p",[e._v("2、断言结果监听器: 线程组-> 添加 -> 监听器 -> 断言结果\n里面的内容是sampler采样器的名称\n断言失败，查看结果树任务结果颜色标红(通过结果数里面双击不通过的记录，可以看到错误信息)")]),e._v(" "),t("p",[e._v("3、每个sample下面可以加单独的结果树，然后同时加多个断言，最外层可以加个结果树进行汇总")]),e._v(" "),t("h3",{attrs:{id:"jmeter实战之压测结果聚合报告分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter实战之压测结果聚合报告分析"}},[e._v("#")]),e._v(" Jmeter实战之压测结果聚合报告分析")]),e._v(" "),t("p",[e._v("简介：讲解压测结果的聚合报告")]),e._v(" "),t("p",[e._v("新增聚合报告：线程组->添加->监听器->聚合报告（Aggregate Report）")]),e._v(" "),t("ul",[t("li",[e._v("lable: sampler的名称")]),e._v(" "),t("li",[e._v("Samples: 一共发出去多少请求,例如10个用户，循环10次，则是 100")]),e._v(" "),t("li",[e._v("Average: 平均响应时间")]),e._v(" "),t("li",[e._v("Median: 中位数，也就是 50％ 用户的响应时间")]),e._v(" "),t("li",[e._v("90% Line : 90％ 用户的响应不会超过该时间 （90% of the samples took no more than this time. The remaining samples at least as long as this）")]),e._v(" "),t("li",[e._v("95% Line : 95％ 用户的响应不会超过该时间")]),e._v(" "),t("li",[e._v("99% Line : 99％ 用户的响应不会超过该时间")]),e._v(" "),t("li",[e._v("min : 最小响应时间")]),e._v(" "),t("li",[e._v("max : 最大响应时间")]),e._v(" "),t("li",[e._v("Error%：错误的请求的数量/请求的总数")]),e._v(" "),t("li",[e._v("Throughput： 吞吐量——默认情况下表示每秒完成的请求数（Request per Second) 可类比为qps")]),e._v(" "),t("li",[e._v("KB/Sec: 每秒接收数据量")])]),e._v(" "),t("h3",{attrs:{id:"jmeter压测脚本jmx讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter压测脚本jmx讲解"}},[e._v("#")]),e._v(" Jmeter压测脚本JMX讲解")]),e._v(" "),t("p",[e._v("简介：压测脚本JMX讲解")]),e._v(" "),t("p",[e._v("1、打开方式subline,或者xml编辑器")]),e._v(" "),t("p",[e._v("2、运行日志和压测时间查看(基础按钮)")]),e._v(" "),t("h2",{attrs:{id:"自定义变量和csv可变参数实操"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义变量和csv可变参数实操"}},[e._v("#")]),e._v(" 自定义变量和CSV可变参数实操")]),e._v(" "),t("h3",{attrs:{id:"jmeter用户自定义变量实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter用户自定义变量实战"}},[e._v("#")]),e._v(" Jmeter用户自定义变量实战")]),e._v(" "),t("p",[e._v("简介：什么是用户自定义变量，怎样使用")]),e._v(" "),t("p",[e._v("为什么使用：很多变量在全局中都有使用，或者测试数据更改，可以在一处定义，四处使用\n比如服务器地址")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("线程组->add -> Config Element(配置原件)-> User Definde Variable（用户定义的变量）")])]),e._v(" "),t("li",[t("p",[e._v("引用方式${XXX}，在接口中变量中使用")])]),e._v(" "),t("li",[t("p",[e._v("原始查看结果树和非原生查看（基础按钮）")])])]),e._v(" "),t("h3",{attrs:{id:"jmeter实战之csv可变参数压测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter实战之csv可变参数压测"}},[e._v("#")]),e._v(" Jmeter实战之CSV可变参数压测")]),e._v(" "),t("p",[e._v("简介：实战操作jmeter读取CSV和Txt文本文件里面的参数进行压测")]),e._v(" "),t("p",[e._v("1、线程组->add -> Config Element(配置原件)-> CSV data set config (CSV数据文件设置)")]),e._v(" "),t("h3",{attrs:{id:"csv文件多参数使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#csv文件多参数使用"}},[e._v("#")]),e._v(" CSV文件多参数使用")]),e._v(" "),t("p",[e._v("简介：在读取的配置文件里面，同时使用多个自定义参数")]),e._v(" "),t("p",[e._v("1、如果是多个参数需要同时引用，则在CSV数据文件里面设置加多个字段")]),e._v(" "),t("p",[e._v("Variabled names(comma-delitited):  csv_name,csv_pwd")]),e._v(" "),t("h2",{attrs:{id:"mysql数据库压测实操"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库压测实操"}},[e._v("#")]),e._v(" Mysql数据库压测实操")]),e._v(" "),t("h3",{attrs:{id:"jmeter压测实战之jdbc-request压测mysql讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter压测实战之jdbc-request压测mysql讲解"}},[e._v("#")]),e._v(" Jmeter压测实战之JDBC request压测Mysql讲解")]),e._v(" "),t("p",[e._v("简介：讲解jdbc压测mysql相关准备工作,jar包添加，配置讲解")]),e._v(" "),t("p",[e._v("1、Thread Group -> add -> sampler -> jdbc request")]),e._v(" "),t("p",[e._v("2、jar包添加  mysql-connector-java-5.1.30.jar")]),e._v(" "),t("p",[e._v("3、JDBC connection Configuration 配置, JDBC request->add -> config element -> JDBC connection configuration\n核心配置")]),e._v(" "),t("ul",[t("li",[e._v("Max Number of connections : 最大连接数")]),e._v(" "),t("li",[e._v("MAX wait :最大等待时间")]),e._v(" "),t("li",[e._v("Auto Commit: 是否自动提交事务")]),e._v(" "),t("li",[e._v("DataBase URL : 数据库连接地址 jdbc:mysql://127.0.0.1:3306/blog")]),e._v(" "),t("li",[e._v("JDBC Driver Class : 数据库驱动，选择对应的mysql")]),e._v(" "),t("li",[e._v("username:数据库用户名")]),e._v(" "),t("li",[e._v("password:数据库密码")])]),e._v(" "),t("h3",{attrs:{id:"jmeter压测实战之jdbc-request压测mysql-select语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter压测实战之jdbc-request压测mysql-select语句"}},[e._v("#")]),e._v(" Jmeter压测实战之JDBC request压测Mysql, select语句")]),e._v(" "),t("p",[e._v("简介：使用jmeter压测mysql，select，insert语句")]),e._v(" "),t("p",[e._v("1、Debug Sampler使用（结果树中查看）Thread Group -> add -> sampler -> debug sampler")]),e._v(" "),t("p",[e._v('2、参数讲解：(sql结尾不要加";")')]),e._v(" "),t("ul",[t("li",[e._v("variable name of pool declared in JDBC connection configuration（和配置文件同名）")]),e._v(" "),t("li",[e._v("Query Type 查询类型")]),e._v(" "),t("li",[e._v("parameter values 参数值")]),e._v(" "),t("li",[e._v("parameter types  参数类型")]),e._v(" "),t("li",[e._v("variable names  sql执行结果变量名")]),e._v(" "),t("li",[e._v("result variable names 所有结果当做一个对象存储")]),e._v(" "),t("li",[e._v("query timeouts  查询超时时间")]),e._v(" "),t("li",[e._v("handle results  处理结果集")])]),e._v(" "),t("h2",{attrs:{id:"高级篇之分布式压测基础知识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级篇之分布式压测基础知识"}},[e._v("#")]),e._v(" 高级篇之分布式压测基础知识")]),e._v(" "),t("h3",{attrs:{id:"分布式压测介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分布式压测介绍"}},[e._v("#")]),e._v(" 分布式压测介绍")]),e._v(" "),t("p",[e._v("简介：讲解什么是分布式压测")]),e._v(" "),t("p",[e._v("普通压测：单台机可以对目标机器产生的压力比较小，受限因素包括CPU，网络，IO等")]),e._v(" "),t("p",[e._v("分布式压测：利用多台机器向目标机器产生压力，模拟几万用户并发访问")]),e._v(" "),t("h3",{attrs:{id:"jmeter分布式压测原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter分布式压测原理"}},[e._v("#")]),e._v(" Jmeter分布式压测原理")]),e._v(" "),t("p",[e._v("简介：讲解Jmeter分布式压测原理")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("总控机器的节点master，其他产生压力的机器叫“肉鸡” server")])]),e._v(" "),t("li",[t("p",[e._v("master会把压测脚本发送到 server上面")])]),e._v(" "),t("li",[t("p",[e._v("执行的时候，server上只需要把jmeter-server打开就可以了，不用启动jmeter")])]),e._v(" "),t("li",[t("p",[e._v("结束后，server会把压测数据回传给master,然后master汇总输出报告")])]),e._v(" "),t("li",[t("p",[e._v("配置详情")])])]),e._v(" "),t("h3",{attrs:{id:"部署java项目到阿里云服务器和守护进程讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署java项目到阿里云服务器和守护进程讲解"}},[e._v("#")]),e._v(" 部署java项目到阿里云服务器和守护进程讲解")]),e._v(" "),t("p",[e._v("简介：部署项目到阿里云，并启动，公网可以访问")]),e._v(" "),t("p",[e._v("1、注意点")]),e._v(" "),t("p",[e._v("关闭防火墙")]),e._v(" "),t("p",[e._v("阿里云控制台安全策略，开放端口")]),e._v(" "),t("p",[e._v("linux上运行 java -jar xxxx")]),e._v(" "),t("p",[e._v("ssh root@120.79.160.143")]),e._v(" "),t("p",[e._v("守护进程：nohup java -jar xxxxx &")]),e._v(" "),t("h3",{attrs:{id:"阿里云linux服务器安装jmeter-4-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里云linux服务器安装jmeter-4-0"}},[e._v("#")]),e._v(" 阿里云Linux服务器安装Jmeter 4.0")]),e._v(" "),t("p",[e._v("简介：在阿里云环境下安装Jmeter")]),e._v(" "),t("p",[e._v("经济足够:购买两台阿里云机器")]),e._v(" "),t("p",[e._v("不足：本地虚拟机，或者用你室友的电脑，在同个局域网就可以，安装同个版本的jdk,jmeter,同个路径，不要带有空格或者中文")]),e._v(" "),t("p",[e._v("下载地址\nwget http://apache.osuosl.org//jmeter/binaries/apache-jmeter-4.0.tgz")]),e._v(" "),t("h3",{attrs:{id:"jmeter非gui界面-参数讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter非gui界面-参数讲解"}},[e._v("#")]),e._v(" Jmeter非GUI界面 参数讲解")]),e._v(" "),t("p",[e._v("讲解：非GUI界面，压测参数讲解")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("-h 帮助\t\t\n-n 非GUI模式\t\t\t\n-t 指定要运行的 JMeter 测试脚本文件\n-l 记录结果的文件 每次运行之前，(要确保之前没有运行过,即xxx.jtl不存在，不然报错)\n-r Jmter.properties文件中指定的所有远程服务器\t\t\t\n-e 在脚本运行结束后生成html报告\t\t\n-o 用于存放html报告的目录（目录要为空，不然报错）\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("p",[e._v("官方配置文件地址 http://jmeter.apache.org/usermanual/get-started.html")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("jmeter -n -t linux_users_api.jmx -l result.jtl -e -o /usr/local/softwate/jmeter/temp/ResultReport\n\njmeter -n -t /Users/jack/Desktop/linux_users_api.jmx -l result.jtl -e -o /Users/jack/Desktop/person/jmeter/temp\n")])])]),t("h3",{attrs:{id:"项目实战之阿里云linux服务器下非gui执行jmeter压测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目实战之阿里云linux服务器下非gui执行jmeter压测"}},[e._v("#")]),e._v(" 项目实战之阿里云Linux服务器下非GUI执行jmeter压测")]),e._v(" "),t("p",[e._v("简介：在阿里云服务器上以非GUI界面去执行JMX压测脚本")]),e._v(" "),t("p",[e._v("jmx目录：/usr/local/software/jmeter/temp")]),e._v(" "),t("p",[e._v("jmeter -n -t /usr/local/software/jmeter/temp/linux_users_api.jmx -l /usr/local/software/jmeter/temp/jtl/result.jtl")]),e._v(" "),t("h2",{attrs:{id:"高级篇之阿里云压测-html可视化压测报告细讲"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级篇之阿里云压测-html可视化压测报告细讲"}},[e._v("#")]),e._v(" 高级篇之阿里云压测 html可视化压测报告细讲")]),e._v(" "),t("h3",{attrs:{id:"阿里云linux服务器-jmeter压测实战之jtl文件生成和查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里云linux服务器-jmeter压测实战之jtl文件生成和查看"}},[e._v("#")]),e._v(" 阿里云Linux服务器 Jmeter压测实战之jtl文件生成和查看")]),e._v(" "),t("p",[e._v("简介：利用软件从阿里云Centos服务器下载压测报告，讲解Jtl文件，并怎么查看文件")]),e._v(" "),t("p",[e._v("可以通过打开jmeter，新建线程组->summary report->浏览文件 进行查看")]),e._v(" "),t("h3",{attrs:{id:"jmeter压测接口的性能优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter压测接口的性能优化"}},[e._v("#")]),e._v(" Jmeter压测接口的性能优化")]),e._v(" "),t("p",[e._v("简介：讲解Jmeter压测减少资源使用的一些建议，即压测结果更准确")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("使用非GUI模式：jmeter -n -t test.jmx -l result.jtl")])]),e._v(" "),t("li",[t("p",[e._v("少使用Listener， 如果使用-l参数，它们都可以被删除或禁用。")])]),e._v(" "),t("li",[t("p",[e._v("在加载测试期间不要使用“查看结果树”或“查看结果”表监听器，只能在脚本阶段使用它们来调试脚本。")])]),e._v(" "),t("li",[t("p",[e._v("包含控制器在这里没有帮助，因为它将文件中的所有测试元素添加到测试计划中。]")])]),e._v(" "),t("li",[t("p",[e._v("不要使用功能模式,使用CSV输出而不是XML")])]),e._v(" "),t("li",[t("p",[e._v("只保存你需要的数据,尽可能少地使用断言")])]),e._v(" "),t("li",[t("p",[e._v("如果测试需要大量数据，可以提前准备好测试数据放到数据文件中，以CSV Read方式读取。")])]),e._v(" "),t("li",[t("p",[e._v("用内网压测，减少其他带宽影响压测结果")])]),e._v(" "),t("li",[t("p",[e._v("如果压测大流量，尽量用多几个节点以非GUI模式向服务器施压")])])]),e._v(" "),t("p",[e._v("官方推荐 ：http://jakarta.apache.org/jmeter/usermanual/best-practices.html#lean_mean")]),e._v(" "),t("h3",{attrs:{id:"项目实战之jmeter压测生成多维度图形化html测试报告"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目实战之jmeter压测生成多维度图形化html测试报告"}},[e._v("#")]),e._v(" 项目实战之Jmeter压测生成多维度图形化HTML测试报告")]),e._v(" "),t("p",[e._v("简介：把Jmtere压测结果转换为Html")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("指令\njmeter -n -t /usr/local/software/jmeter/temp/linux_users_api.jmx -l /usr/local/software/jmeter/temp/jtl/result.jtl -e -o /usr/local/software/jmeter/temp/result\n")])])]),t("h3",{attrs:{id:"jmeter图形化html压测报告dashboard讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter图形化html压测报告dashboard讲解"}},[e._v("#")]),e._v(" Jmeter图形化HTML压测报告dashboard讲解")]),e._v(" "),t("p",[e._v("简介：讲解压测报告 html里面Dashboard的核心指标")]),e._v(" "),t("p",[e._v("1、dashboard讲解")]),e._v(" "),t("p",[e._v("1）Test and Report informations")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Source file：jtl文件名")])]),e._v(" "),t("li",[t("p",[e._v("Start Time ：压测开始时间")])]),e._v(" "),t("li",[t("p",[e._v("End Time ：压测结束时间")])]),e._v(" "),t("li",[t("p",[e._v("Filter for display：过滤器")])]),e._v(" "),t("li",[t("p",[e._v("Lable:sampler采样器名称")])])]),e._v(" "),t("p",[e._v("2）APDEX(Application performance Index)")]),e._v(" "),t("ul",[t("li",[e._v("apdex:应用程序性能指标,范围在0~1之间，1表示达到所有用户均满意")]),e._v(" "),t("li",[e._v("T(Toleration threshold)：可接受阀值")]),e._v(" "),t("li",[e._v("F(Frustration threshold)：失败阀值")])]),e._v(" "),t("p",[e._v("3）Requests Summary\nOK:成功率\nKO:失败率")]),e._v(" "),t("p",[e._v("4）Statistics 统计数据\nlable:sampler采样器名称")]),e._v(" "),t("ul",[t("li",[e._v("samples:请求总数，并发数*循环次数\nKO:失败次数\nError%:失败率")]),e._v(" "),t("li",[e._v("Average:平均响应时间")]),e._v(" "),t("li",[e._v("Min:最小响应时间")]),e._v(" "),t("li",[e._v("Max:最大响应时间\n90th pct: 90%的用户响应时间不会超过这个值（关注这个就可以了）\n2ms,3ms,4,5,2,6,8,3,9")]),e._v(" "),t("li",[e._v("95th pct: 95%的用户响应时间不会超过这个值")]),e._v(" "),t("li",[e._v("99th pct: 99%的用户响应时间不会超过这个值 (存在极端值)")]),e._v(" "),t("li",[e._v("throughtput:Request per Second吞吐量 qps")]),e._v(" "),t("li",[e._v("received:每秒从服务器接收的数据量")]),e._v(" "),t("li",[e._v("send：每秒发送的数据量")])]),e._v(" "),t("h3",{attrs:{id:"jmeter图形化html压测报告charts报表讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter图形化html压测报告charts报表讲解"}},[e._v("#")]),e._v(" Jmeter图形化HTML压测报告Charts报表讲解")]),e._v(" "),t("p",[e._v("简介：\n讲解压测报告 html里面Charts的核心指标")]),e._v(" "),t("p",[e._v("1、charts讲解")]),e._v(" "),t("p",[e._v("1)Over Time（随着时间的变化）")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Response Times Over Time：响应时间变化趋势")])]),e._v(" "),t("li",[t("p",[e._v("Response Time Percentiles Over Time (successful responses)：最大，最小，平均，用户响应时间分布")])]),e._v(" "),t("li",[t("p",[e._v("Active Threads Over Time：并发用户数趋势")])]),e._v(" "),t("li",[t("p",[e._v("Bytes Throughput Over Time：每秒接收和请求字节数变化，蓝色表示发送，黄色表示接受")])]),e._v(" "),t("li",[t("p",[e._v("Latencies Over Time：平均响应延时趋势")])]),e._v(" "),t("li",[t("p",[e._v("Connect Time Over Time\t：连接耗时趋势")])])]),e._v(" "),t("p",[e._v("1)Throughput")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Hits Per Second (excluding embedded resources):每秒点击次数")])]),e._v(" "),t("li",[t("p",[e._v("Codes Per Second (excluding embedded resources)：每秒状态码数量")])]),e._v(" "),t("li",[t("p",[e._v("Transactions Per Second：即TPS，每秒事务数")])]),e._v(" "),t("li",[t("p",[e._v("Response Time Vs Request：响应时间和请求数对比")])]),e._v(" "),t("li",[t("p",[e._v("Latency Vs Request：延迟时间和请求数对比")])])]),e._v(" "),t("p",[e._v("1)Response Times")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Response Time Percentiles：响应时间百分比")])]),e._v(" "),t("li",[t("p",[e._v("Response Time Overview：响应时间概述")])]),e._v(" "),t("li",[t("p",[e._v("Time Vs Threads：活跃线程数和响应时间")])]),e._v(" "),t("li",[t("p",[e._v("Response Time Distribution：响应时间分布图")])])]),e._v(" "),t("h2",{attrs:{id:"高级篇之多节点jmeter分布式压测实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级篇之多节点jmeter分布式压测实战"}},[e._v("#")]),e._v(" 高级篇之多节点JMeter分布式压测实战")]),e._v(" "),t("h3",{attrs:{id:"jmeter4-0分布式压测准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter4-0分布式压测准备工作"}},[e._v("#")]),e._v(" Jmeter4.0分布式压测准备工作")]),e._v(" "),t("p",[e._v("简介：讲解Linux服务器上jmeter进行分布式压测的相关准备工作")]),e._v(" "),t("p",[e._v("1、压测注意事项\nthe firewalls on the systems are turned off or correct ports are opened.\n系统上的防火墙被关闭或正确的端口被打开。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("all the clients are on the same subnet.\n所有的客户端都在同一个子网上。\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("the server is in the same subnet, if 192.x.x.x or 10.x.x.x IP addresses are used. If the server doesn't use 192.xx or 10.xx IP address, there shouldn't be any problems.\n如果使用192.x.x.x或10.x.x.x IP地址，则服务器位于同一子网中。 如果服务器不使用192.xx或10.xx IP地址，则不应该有任何问题。\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Make sure JMeter can access the server.\n确保JMeter可以访问服务器。\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Make sure you use the same version of JMeter and Java on all the systems. Mixing versions will not work correctly.\n确保在所有系统上使用相同版本的JMeter和Java。 混合版本将无法正常工作。\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("You have setup SSL for RMI or disabled it.\n您已为RMI设置SSL或将其禁用。\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("官网地址 http://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html")]),e._v(" "),t("p",[e._v("压测注意事项：一定要用内网IP，不用用公网IP,用ping去检查")]),e._v(" "),t("p",[e._v("2、专业名字")]),e._v(" "),t("ul",[t("li",[e._v("master:司令")]),e._v(" "),t("li",[e._v("slave：奴隶")]),e._v(" "),t("li",[e._v("target：目标")])]),e._v(" "),t("p",[e._v("地址：http://jmeter.apache.org/images/screenshots/distributed-names.svg")]),e._v(" "),t("p",[e._v("地址：http://jmeter.apache.org/images/screenshots/distributed-jmeter.svg")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("远程拷贝(内网地址)：\t\nscp -r /usr/local/software/jdk-8u141-linux-x64.tar.gz root@172.18.230.233:/usr/local/software\nscp -r /usr/local/software/jmeter/apache-jmeter-4.0.tgz \nroot@172.18.230.233:/usr/local/software/jmeter\n\n启动 \n./jmeter-server \n或者    \nnohup ./jmeter-server &\n\n\n检查启动是否成功\nps -ef|grep jmeter-server\nps aux|grep jmeter-server\n")])])]),t("h3",{attrs:{id:"jmeter4-0分布式压测实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter4-0分布式压测实战"}},[e._v("#")]),e._v(" Jmeter4.0分布式压测实战")]),e._v(" "),t("p",[e._v("简介：Jmeter分布式压测实战，压测接口")]),e._v(" "),t("p",[e._v("1、关注CPU和内存使用")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("本地非GUI分布式压测 -r \njmeter -n -t /Users/jack/Desktop/remote.jmx -r -l /Users/jack/Desktop/jtl/result.jtl -e -o /Users/jack/Desktop/result\n\n压测结果\n./jmeter -n -t /Users/jack/Desktop/remote.jmx -r -l /Users/jack/Desktop/jtl/result.jtl -e -o /Users/jack/Desktop/result\n\nCreating summariser <summary>\nCreated the tree successfully using /Users/jack/Desktop/remote.jmx\nConfiguring remote engine: 172.20.10.3:8899\nUsing local port: 8899\nConfiguring remote engine: 172.20.10.11:8899\nStarting remote engines\nStarting the test @ Thu Mar 29 23:21:13 CST 2018 (1522336873931)\nRemote engines have been started\nWaiting for possible Shutdown/StopTestNow/Heapdump message on port 4445\nsummary =      4 in 00:00:22 =    0.2/s Avg:  5582 Min:    94 Max: 21006 Err:     1 (25.00%)\nTidying up remote @ Thu Mar 29 23:21:36 CST 2018 (1522336896842)\n... end of run\n")])])]),t("p",[e._v("2、压测修改master节点信息")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("jemeter.properties 值是slave机器的ip+端口号，如果有多个，用逗号分隔\nremote_hosts=192.168.0.102:8899,192.168.0.101:8899\nserver.rmi.ssl.disable=true (前面有说到)\n")])])]),t("p",[e._v("3、启动slave机器，注意要同个网段，ip地址用内网ip")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("./jmeter-server\nUsing local port: 8899\nCreated remote object: UnicastServerRef2 [liveRef: [endpoint:[192.168.0.102:8899](local),objID:[3a585a4d:162724586ab:-7fff, 3963132813614033916]]]\n")])])]),t("p",[e._v("相关资料：")]),e._v(" "),t("p",[e._v("https://www.cnblogs.com/Fine-Chan/p/6233823.html")]),e._v(" "),t("p",[e._v("https://blog.csdn.net/liujingqiu/article/details/52635289")]),e._v(" "),t("p",[e._v("https://www.cnblogs.com/puresoul/p/4844539.html")]),e._v(" "),t("h2",{attrs:{id:"高级篇之jmeter压测课程总结和架构浅析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级篇之jmeter压测课程总结和架构浅析"}},[e._v("#")]),e._v(" 高级篇之Jmeter压测课程总结和架构浅析")]),e._v(" "),t("h3",{attrs:{id:"课程总结和关于系统架构-推荐学习资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#课程总结和关于系统架构-推荐学习资料"}},[e._v("#")]),e._v(" 课程总结和关于系统架构，推荐学习资料")]),e._v(" "),t("p",[e._v("简介：讲解测试人员的基础技能，系统架构知识，相关推荐书籍，课程总结等")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("配置元件=》前置处理器=》定时器=》采样器=》后置处理器=》断言=》监听器\n")])])]),t("h2",{attrs:{id:"安装常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装常见问题"}},[e._v("#")]),e._v(" 安装常见问题")]),e._v(" "),t("h3",{attrs:{id:"问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[e._v("#")]),e._v(" 问题")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@iZwz95j86y235aroi85ht0Z bin]# ./jmeter-server\n\tCreated remote object: UnicastServerRef2 [liveRef: [endpoint:[:39308](local),objID:[24e78a63:16243c70661:-7fff, 7492480871343944173]]]\n\tServer failed to start: java.rmi.RemoteException: Cannot start. Unable to get local host IP address.; nested exception is:\n\tjava.net.UnknownHostException: iZwz95j86y235aroi85ht0Z: iZwz95j86y235aroi85ht0Z: Name or service not known\n\tAn error occurred: Cannot start. Unable to get local host IP address.; nested exception is:\n\tjava.net.UnknownHostException: iZwz95j86y235aroi85ht0Z: iZwz95j86y235aroi85ht0Z: Name or service not known\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])]),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("解决：\nhostname  命令获取机器名称，追加一个映射  iZwz95j86y235aroi85ht0Z\nvim /etc/hosts\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n120.79.160.143 iZwz95j86y235aroi85ht0Z\n\nwindows用户 修改c:\\windows\\system32\\drivers\\etc\\hosts文件，增加一条域名 与IP的映射\n")])])]),t("h3",{attrs:{id:"问题-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题-2"}},[e._v("#")]),e._v(" 问题")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@iZwz95j86y235aroi85ht0Z bin]# ./jmeter-server\n\tServer failed to start: java.rmi.server.ExportException: Listen failed on port: 0; nested exception is:\n\tjava.io.FileNotFoundException: rmi_keystore.jks (No such file or directory)\n\tAn error occurred: Listen failed on port: 0; nested exception is:\n\tjava.io.FileNotFoundException: rmi_keystore.jks (No such file or directory)\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br")])]),t("p",[e._v("解决：拥有RMI over SSL的有效密钥库，或者禁用了SSL。")]),e._v(" "),t("p",[e._v("1、禁用SSL\njmeter.property里面 server.rmi.ssl.disable 改为 true，表示禁用")]),e._v(" "),t("h3",{attrs:{id:"问题-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题-3"}},[e._v("#")]),e._v(" 问题")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[root@iZ949uw2xehZ bin]# ./jmeter\nJava HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c0000000, 1073741824, 0) failed; error='Cannot allocate memory' (errno=12)\n\t\t#\n\t\t# There is insufficient memory for the Java Runtime Environment to continue.\n\t\t# Native memory allocation (mmap) failed to map 1073741824 bytes for committing reserved memory.\n\t\t# An error report file with more information is saved as:\n\t\t# /usr/local/jmeter/apache-jmeter-4.0/bin/hs_err_pid5855.log\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])]),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('解决：\n\t编辑jmeter\n\t搜索 : "${HEAP:="-Xms1g -Xmx1g -XX:MaxMetaspaceSize=256m"}"\n\t改变初始堆内存和最大堆内存\n')])])]),t("h3",{attrs:{id:"仅修改-server-port-即可-下面两者一样"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#仅修改-server-port-即可-下面两者一样"}},[e._v("#")]),e._v(" 仅修改 server_port 即可,下面两者一样")]),e._v(" "),t("p",[e._v("server.rmi.localport=8899 表示slave server启动显示的端口\nserver_port=8899  表示master机器要远程连接的端口   即 remote_hosts=xxxx:8899")]),e._v(" "),t("h3",{attrs:{id:"jmeter-分布式性能测试-多网卡配置-我们要在多网卡的服务器上开启rmi服务的话必须指定ip-使他们能够在同一个网段内。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jmeter-分布式性能测试-多网卡配置-我们要在多网卡的服务器上开启rmi服务的话必须指定ip-使他们能够在同一个网段内。"}},[e._v("#")]),e._v(" jmeter 分布式性能测试（多网卡配置）我们要在多网卡的服务器上开启RMI服务的话必须指定IP，使他们能够在同一个网段内。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("需要以下几步（假定所有机器都在10.120.11.*网段,agent服务器为linux,controller服务器为windows）：\n\n1、 修改agent服务器，指定agent机器的IP\n修改jmeter-server文件\n# vi jmeter-server\n修改RMI_HOST_DEF=-Djava.rmi.server.hostname=xxx.xxx.xxx.xxx(需要连接的IP)\n\n2、修改server服务器，指定server机器的IP\n\n修改jmeter.bat文件 \n\n新增set rmi_host=-Djava.rmi.server.hostname=10.120.11.214\n\n修改set ARGS=%DUMP% %HEAP% %NEW% %SURVIVOR% %TENURING% %PERM% %DDRAW% %rmi_host%\n")])])]),t("h3",{attrs:{id:"确定在controller机器上安装jdk-版本和jmeter一致-配置环境变量-java-home等"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#确定在controller机器上安装jdk-版本和jmeter一致-配置环境变量-java-home等"}},[e._v("#")]),e._v(" 确定在controller机器上安装jdk,版本和jmeter一致，配置环境变量：Java_home等")]),e._v(" "),t("p",[e._v("在Agent机器上安装jdk，配置环境变量：Java_home和JMeter_home\n安装目录不要带空格，最好都是简短的英文路径")]),e._v(" "),t("h3",{attrs:{id:"master机器启动后会拷贝jmx文件到slave机器-所以不需要在每台slave机器上也上传一份jmx-只需要在master机器上上传一份jmx脚本即可。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#master机器启动后会拷贝jmx文件到slave机器-所以不需要在每台slave机器上也上传一份jmx-只需要在master机器上上传一份jmx脚本即可。"}},[e._v("#")]),e._v(" master机器启动后会拷贝jmx文件到slave机器，所以不需要在每台slave机器上也上传一份jmx，只需要在master机器上上传一份jmx脚本即可。")]),e._v(" "),t("p",[e._v("如果使用csv进行参数化，则需要把参数文件在每台slave上拷一份且路径需要设置成一样的。")]),e._v(" "),t("p",[e._v("总样本数 = 线程数 * 循环次数 * 执行机总数")]),e._v(" "),t("h3",{attrs:{id:"连接失败原因排查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接失败原因排查"}},[e._v("#")]),e._v(" 连接失败原因排查")]),e._v(" "),t("p",[e._v("以下步骤进行排查：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("jmeter-server是否启动；")])]),e._v(" "),t("li",[t("p",[e._v("是否联网")])]),e._v(" "),t("li",[t("p",[e._v("ping 服务器IP是否畅通.")])]),e._v(" "),t("li",[t("p",[e._v("telnet 端口 192.168.3.10 1099")])]),e._v(" "),t("li",[t("p",[e._v("检查服务器的防火墙是否关闭。")])]),e._v(" "),t("li",[t("p",[e._v("阿里云安全策略是否正常")])])]),e._v(" "),t("h3",{attrs:{id:"could-not-find-apachejmeter-core-jar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#could-not-find-apachejmeter-core-jar"}},[e._v("#")]),e._v(' "could not find ApacheJmeter_core.jar"')]),e._v(" "),t("p",[e._v("解决：在Agent机器安装jdk，并设置环境变量")]),e._v(" "),t("h3",{attrs:{id:"bad-call-to-remote-host"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bad-call-to-remote-host"}},[e._v("#")]),e._v(' ”Bad call to remote host"')]),e._v(" "),t("p",[e._v("解决：检查被控制机器上的jmeter-server有没有启动，或者remote_hosts的配置是否正确。")])])}),[],!1,null,null,null);t.default=s.exports}}]);